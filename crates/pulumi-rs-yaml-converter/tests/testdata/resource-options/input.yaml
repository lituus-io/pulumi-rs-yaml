name: test
runtime: yaml
resources:
  prov:
    type: pulumi:providers:aws
    properties:
      region: us-west-2
  bucket:
    type: aws:s3:Bucket
    properties:
      bucketPrefix: my-bucket
    options:
      dependsOn:
        - ${prov}
      protect: true
      provider: ${prov}
      ignoreChanges:
        - bucketPrefix
        - tags
      version: "4.38.0"
